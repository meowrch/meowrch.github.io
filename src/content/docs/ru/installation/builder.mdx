---
title: Описание работы Builder
description: ...
---

import { Steps, FileTree } from '@astrojs/starlight/components';

# Предустановка (install.sh)
При запуске `install.sh` начинается процесс предустановки билдера:

<Steps>

1. **Установка базовых пакетов**
   
   Устанавливаются пакеты `python` и `python-pip`, необходимые для корректной работы основной части билдера.

2. **Установка Python библиотек**
   
   Устанавливаются библиотеки, необходимые как для билдера, так и для работы системы:
   - inquirer
   - loguru
   - psutil
   - gputil
   - pyamdgpuinfo
   - pyyaml
   - pillow

3. **Запуск основной части билдера**
   
   После успешной установки всех зависимостей запускается основная часть билдера.

</Steps>

# Структура пакетов

В папке `Builder` можно найти файл `packages.py`, который содержит все устанавливаемые пакеты.

## Структура директории билдера

<FileTree>

- Builder/
  - packages.py
  - main.py
  - config/
    - base_packages.yaml
    - drivers.yaml
  - scripts/
    - install.sh
    - setup.py

</FileTree>

## Организация пакетов

Файл `packages.py` содержит экземпляры класса `Packages` со следующей структурой:

- **pacman** - пакеты из официальных репозиториев
- **aur** - пакеты из Arch User Repository

Внутри каждой категории находится экземпляр класса `DistributionPackages` с атрибутами:
- `common` - пакеты для всех оконных менеджеров
- `hyprland_packages` - пакеты только для Hyprland
- `bspwm_packages` - пакеты только для bspwm

### Основные константы:
- **BASE** - базовые пакеты для корректной работы системы
- **CUSTOM** - категории пакетов (игры, социальные сети)
- **DRIVERS** - драйвера для различных вендоров

# Процесс установки

Начинается сбор ответов от пользователя, на основе которых будут установлены системные компоненты.

## Типы вопросов

- **С одним ответом** - для выбора нужного варианта нажмите Enter
- **С несколькими ответами** - используйте пробел для выбора, Enter для завершения

## Этапы конфигурации

<Steps>

1. **Активация multilib репозитория**
   
   ```
   Should I enable the multilib repository?
   ```
   
   multilib - официальный репозиторий для запуска 32-битных приложений на 64-битной версии Arch Linux.
   
   :::tip[Рекомендация]
   **Рекомендуется согласиться** с этой настройкой для полной совместимости.
   :::

2. **Обновление базы данных пакетов**
   
   ```
   Update Arch DataBase?
   ```
   
   Обновление базы данных пакетов до актуальной версии.
   
   :::tip[Рекомендация]
   **Рекомендуется согласиться** для получения последних версий пакетов.
   :::

3. **Установка игровых зависимостей**
   
   ```
   Install game dependencies?
   ```
   
   Установка пакетов для игр и их оптимизации.
   
   Подробности в [файле packages.py](https://github.com/meowrch/meowrch/blob/main/Builder/packages.py).

4. **Установка социальных сетей**
   
   ```
   Install social-media dependencies?
   ```
   
   Установка приложений социальных сетей.
   
   Подробности в [файле packages.py](https://github.com/meowrch/meowrch/blob/main/Builder/packages.py).

5. **Выбор драйверов**
   
   ```
   What drivers do you want to install?
   ```
   
   Выбор драйверов для видеокарты и процессора. В большинстве случаев вендор определяется автоматически.
   
   Подробности в [файле packages.py](https://github.com/meowrch/meowrch/blob/main/Builder/packages.py).

</Steps>

:::caution[В разработке]
Данная страница не дописана.
:::
  
---
title: Installer Description
description: ...
slug: en/2.0/installation/builder
---

import { Steps, FileTree } from '@astrojs/starlight/components';

# Pre-installation
When running `install.sh`, the builder pre-installation process begins:

<Steps>

1. **Installing base packages**
   
   Packages `python` and `python-pip` are installed, necessary for the correct operation of the builder's core.

2. **Installing Python libraries**
   
   Libraries required both for the builder and the system operation are installed:
   - inquirer
   - loguru
   - psutil
   - gputil
   - pyamdgpuinfo
   - pyyaml
   - pillow
   - colorama

3. **Launching the builder core**
   
   After successfully installing all dependencies, the builder’s main part is started, initiating the user query process.

</Steps>

# Main installation process

**Installation stages:**
<Steps>
1. **Creating configuration backups**
   - Runs if the user chose the backup option.
   - Copies configurations and important files to the `./backup` directory.

2. **Creating folders and copying dotfiles**
   - Basic folders are created in the user’s home directory.
   - Dotfiles are copied depending on the selected WM (bspwm or Hyprland).

3. **Configuring Pacman and installing an AUR helper**
   - The pacman configuration file is updated to include new features and multilib (if selected).
   - yay or paru is installed to manage AUR packages.

4. **Installing packages and drivers**
   - All base packages from `packages.py` are installed.
   - Drivers are selected and installed based on automatic hardware detection.

5. **Configuring applications**
   - GRUB setup: adding a custom theme.
   - SDDM setup: installing a custom greeting theme.
   - Firefox setup: installing selected plugins, configurations, and themes.
   - VS Code setup: installing the `meowrch-code-theme` plugin to adapt VS Code to meowrch themes.

6. **Configuring daemons**
   - Enabling and starting core system daemons: `NetworkManager`, `bluetooth`, `SDDM`.

7. **Post-installation**
   - Changing the shell to fish.
   - Adding the user to groups: gamemode.
   - Setting `kitty` as the default terminal.
   - Installing the locale `en_US.UTF-8`.
   - Printing a report on uninstalled packages and suggesting a system reboot.
</Steps>

# Builder directory structure

<FileTree>

- Builder/
  - \_\_init\_\_.py
  - install.py
  - packages.py
  - question.py
  - managers/
    - \_\_init\_\_.py
    - apps_manager.py
    - drivers_manager.py
    - filesystem_manager.py
    - package_manager.py
    - post_install_manager.py
  - utils/
    - \_\_init__.py
    - banner.py
    - schemes.py

</FileTree>

## Package organization

The `packages.py` file contains various package categories:

### BASE

These are the core packages required for the entire system to function:

- **pacman common**:  
  `pacman-contrib`, `downgrade`, `libnotify`, `ffmpeg`, `ffmpegthumbnailer`, `jq`, `parallel`, `kitty`, `fastfetch`, `lsd`, `bat`,  
  `brightnessctl`, `automake`, `blueman`, `bluez`, `bluez-utils`, `dunst`, `fakeroot`, `firefox`, `fish`, `fisher`, `dpkg`, `gcc`,  
  `git`, `gnu-netcat`, `btop`, `micro`, `mat2`, `nemo`, `papirus-icon-theme`, `pavucontrol`, `pamixer`, `pipewire`, `pipewire-pulse`,  
  `pipewire-audio`, `pipewire-jack`, `pipewire-alsa`, `wireplumber`, `python-pyalsa`, `ranger`, `redshift`, `reflector`, `sudo`, `tree`,  
  `unrar`, `zip`, `unzip`, `uthash`, `ark`, `cmake`, `clang`, `gzip`, `imagemagick`, `make`, `openssh`, `shellcheck`, `vlc`, `loupe`,  
  `usbutils`, `openvpn`, `networkmanager-openvpn`, `p7zip`, `gparted`, `sshfs`, `wget`, `netctl`,  
  `libreoffice`, `ttf-jetbrains-mono`, `ttf-jetbrains-mono-nerd`, `ttf-fira-code`, `ttf-iosevka-nerd`, `playerctl`,  
  `starship`, `upower`, `udiskie`, `zenity`, `gvfs`, `qt5ct`, `qt6ct`, `timeshift`, `sddm`, `qt5-graphicaleffects`, `qt5-svg`,  
  `qt5-quickcontrols2`, `clipnotify`, `xdg-desktop-portal-gtk`, `gnome-disk-utility`, `evince`, `neovim`, `tmux`, `cowsay`,  
  `polkit-gnome`, `rofimoji`, `wmname`, `pyenv`, `xdg-desktop-portal`, `ttf-hack-nerd`, `networkmanager`, `noto-fonts`,  
  `noto-fonts-cjk`, `noto-fonts-emoji`, `noto-fonts-extra`

### bspwm

- `xorg`, `bspwm`, `sxhkd`, `xorg-xinit`, `xclip`, `feh`, `lxappearance`, `polybar`, `xorg-xrandr`, `xsettingsd`

### hyprland

- `hyprland`, `waybar`, `swww`, `cliphist`, `wl-clipboard`, `xdg-desktop-portal-hyprland`, `qt5-wayland`, `qt6-wayland`,  
  `xdg-desktop-portal-wlr`, `hypridle`

### CUSTOM

Packages that can be selected depending on needs:

- **games**:  
  `steam`, `gamemode`, `mangohud`, `portproton`

- **development**:  
  `obsidian`, `postgresql`, `pgadmin4-desktop`, `redis`

- **social_media**:  
  `telegram-desktop`, `discord`, `vesktop`

- **entertainment**:  
  `yandex-music`, `spotify`

- **office**:  
  `libreoffice-fresh`, `onlyoffice-bin`

### DRIVERS

Drivers for various vendors:

- **intel**:  
  `lib32-mesa`, `vulkan-intel`, `lib32-vulkan-intel`, `vulkan-icd-loader`, `lib32-vulkan-icd-loader`, `intel-media-driver`,  
  `libva-intel-driver`, `xf86-video-intel`

- **amd**:  
  `lib32-mesa`, `vulkan-radeon`, `lib32-vulkan-radeon`, `vulkan-icd-loader`, `lib32-vulkan-icd-loader`

- **nvidia**:  
  `nvidia-dkms`, `nvidia-utils`, `lib32-nvidia-utils`, `nvidia-settings`, `vulkan-icd-loader`, `lib32-vulkan-icd-loader`,  
  `lib32-opencl-nvidia`, `opencl-nvidia`, `libxnvctrl`

### When are packages installed?

- **BASE** packages are always installed.
- **bspwm and hyprland** packages depend on the chosen window manager.
- **CUSTOM** and **DRIVERS** are selected during installation by the builder.

### Builder components

- **PackageManager**: manages package installation, database updates, and pacman configuration.
- **DriversManager**: automatic detection and installation of GPU and CPU drivers.
- **FileSystemManager**: file system management, backup creation, and dotfiles copying.
- **AppsManager**: application configuration, including GRUB, SDDM, Firefox, and VS Code.
- **PostInstallation**: final system setup after installation. Applies default settings for terminal, shell, locales, and adds the user to the `gamemode` group.

# Pre-installation questions

The builder asks a series of questions to customize the installation:

1. **Configuration backups**
   - **Answers**: Yes, No
   - **Details**: If "Yes" is selected, a backup of all configuration files is created.

2. **Window Manager (WM) selection**
   - **Answers**: bspwm, hyprland
   - **Details**: The WM choice determines which packages are installed (bspwm or hyprland and related components).

3. **AUR helper selection**
   - **Answers**: yay, paru
   - **Details**: Determines which AUR assistant will be installed to manage packages from Arch User Repository.

4. **Enabling multilib repository**
   - **Answers**: Yes, No
   - **Details**: Enables support repository for 32-bit applications.

5. **Update package database**
   - **Answers**: Yes, No
   - **Details**: If "Yes," the package database will be updated to the latest version.

6. **Driver installation**
   - **Answers**: Intel, Nvidia, AMD
   - **Details**: Driver selection according to hardware. Automatic detection is recommended for proper choice.

7. **Firefox plugin selection**
   - **Answers**: Dark Reader, uBlock Origin, TWP, Unpaywall, Tamper Monkey
   - **Details**:
     - **Dark Reader**: Changes light website themes to dark ones, improving visual comfort and reducing eye strain.
     - **uBlock Origin**: Blocks ads, improves page load speed, and protects against malware.
     - **TWP**: Tool for translating text and entire pages, useful for multilingual users.
     - **Unpaywall**: Provides legal access to paywalled articles through alternative sources.
     - **Tamper Monkey**: User script manager for browser customization, e.g., adding new features or modifying existing ones. In this case, it is used to add real-time video translation with a Yandex Browser model.
